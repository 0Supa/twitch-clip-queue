(this["webpackJsonptwitch-clip-queue"]=this["webpackJsonptwitch-clip-queue"]||[]).push([[4],{79:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var s=c(6),l=c(41),n=c(0),r=c(23),a=c(29),i=c(2),o=["pressed","className","colour","children","onClick"];var d=function(e){var t=e.pressed,c=e.className,l=e.colour,n=e.children,d=e.onClick,j=Object(a.a)(e,o),b=Object(r.a)(l,c);return t&&(b+=" pressed"),Object(i.jsx)("button",Object(s.a)(Object(s.a)({},j),{},{className:b,onClick:d,children:n}))},j=c(40),b=c(26),u=c(13),m=c(8);var h=function(e){var t=e.id,c=e.provider,s=e.url,l=e.thumbnailUrl,n=e.title,a=e.submitter,o=e.submitterCount,d=void 0===o?0:o,j=e.channel,b=e.game;return Object(i.jsxs)("div",{className:"clip max-w-sm rounded overflow-hidden flex flex-col",children:[l&&Object(i.jsx)("img",{className:"w-full",src:l,alt:n}),Object(i.jsxs)("div",{className:"h-full w-full relative",children:[Object(i.jsxs)("div",{className:"absolute flex right-1 bottom-1 clip-buttons space-x-1",children:[Object(i.jsx)(r.b,{colour:"green",onClick:function(){return Object(u.l)({id:t,provider:c})},children:"\xbb"}),Object(i.jsx)(r.b,{colour:"red",onClick:function(){return Object(u.k)({id:t,provider:c})},children:"\xd7"})]}),Object(i.jsxs)("div",{className:"px-2 py-1",children:[Object(i.jsx)("h4",{className:"font-bold text-sm mb-1",children:Object(i.jsx)("a",{className:"text-black no-underline",href:s,target:"_blank",rel:"noreferrer",children:n})}),Object(i.jsxs)("p",{className:"text-gray-700 text-xs mb-1 font-normal",children:[Object(i.jsxs)("span",{className:"font-bold",children:[j," "]}),b&&Object(i.jsxs)("span",{children:["playing\xa0",Object(i.jsx)("span",{className:"font-bold",children:b})]})]}),Object(i.jsxs)("p",{className:"text-gray-700 text-xs font-normal",children:[a&&Object(i.jsxs)(i.Fragment,{children:["Submitted by ",Object(i.jsx)("span",{className:"font-bold",children:a})]}),Object(i.jsx)("span",{className:"text-xs",children:d>0&&" +"+d})]})]})]})]})};var x=function(e){var t=e.clips,c=e.clipLimit,l=void 0===c?19:c,n=u.b.use();return Object(i.jsx)("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 w-full",children:t.length?Object(i.jsxs)(i.Fragment,{children:[t.slice(0,l).map((function(e){var t;return Object(i.jsx)(h,Object(s.a)(Object(s.a)({},e),{},{submitterCount:null===(t=e.submitters)||void 0===t?void 0:t.length}),"".concat(e.provider,":").concat(e.id))})),t.length>l&&Object(i.jsx)("div",{className:"clip max-w-sm rounded overflow-hidden text-3xl flex py-4",children:Object(i.jsxs)("div",{className:"mx-auto my-auto",children:["+",t.length-l," more"]})})]}):n&&Object(i.jsx)("div",{className:"col-span-full text-lg font-bold",children:"Waiting for some clips from chat..."})})},O=["provider"];function p(e){var t,c=e.provider,s=Object(a.a)(e,O);switch(c){case void 0:return Object(i.jsx)(i.Fragment,{});case"twitch-clip":return Object(i.jsx)("iframe",{src:"https://clips.twitch.tv/embed?clip=".concat(s.id,"&autoplay=true&parent=").concat(window.location.hostname),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:s.title});case"twitch-vod":return Object(i.jsx)("iframe",{src:"https://player.twitch.tv/?video=".concat(s.id,"&autoplay=true&parent=").concat(window.location.hostname,"&time=").concat(s.startTime),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:s.title});case"youtube":return Object(i.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(s.id,"?autoplay=1&start=").concat(null!==(t=s.startTime)&&void 0!==t?t:""),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:s.title})}return Object(i.jsxs)("span",{children:["Provider not supported: ",c]})}var f=function(e){var t=e.game,c=e.channel,l=e.title,n=e.submitter,r=e.submitterCount,a=void 0===r?0:r;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"player",children:Object(i.jsx)(p,Object(s.a)({},e))}),Object(i.jsxs)("div",{className:"pt-2",children:[Object(i.jsx)("h2",{className:"font-bold mb-1",children:null!==l&&void 0!==l?l:Object(i.jsx)(i.Fragment,{children:"\xa0"})}),Object(i.jsx)("p",{className:"text-gray-500 text-sm font-normal",children:c?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:"font-bold",children:c}),t&&Object(i.jsxs)("span",{children:["\xa0playing\xa0",Object(i.jsx)("span",{className:"font-bold",children:t})]}),", submitted by ",Object(i.jsx)("span",{className:"font-bold",children:n}),a>0&&Object(i.jsxs)(i.Fragment,{children:[" and ",a," other(s)"]})]}):Object(i.jsx)(i.Fragment,{children:"\xa0"})})]})]})};c(79);t.default=function(){var e,t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=c[0],o=c[1],h=u.b.use(),O=u.g.use(),p=u.f.use(),v=u.h.use(),g=m.g.use(),N=m.f.use();return Object(n.useEffect)((function(){return b.a.connect(),function(){return b.a.disconnect()}}),[g]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(f,Object(s.a)(Object(s.a)({},v),{},{submitterCount:null===(e=v.submitters)||void 0===e?void 0:e.length})),Object(i.jsxs)("div",{className:"mt-4 flex w-full",children:[Object(i.jsx)(r.b,{colour:"green",className:"mr-2",onClick:function(){return Object(u.j)()},children:"Next \xbb"}),Object(i.jsx)(d,{pressed:h,className:"mr-2",onClick:function(){return Object(u.a)(!h)},children:h?Object(i.jsx)(i.Fragment,{children:"Close the floodgates! \ud83c\udf0a"}):Object(i.jsx)(i.Fragment,{children:"Open the floodgates! \ud83d\udeaa"})}),Object(i.jsxs)(r.b,{colour:"red",className:"mr-2",onClick:function(){return Object(u.e)()},children:["\xd7 Clear queue ",Object(i.jsxs)("em",{children:["(",O.length,")"]})]}),Object(i.jsx)(d,{pressed:a,colour:"red",onClick:function(){return o(!a)},children:"\u2699\ufe0f"})]}),a&&Object(i.jsxs)("div",{className:"mt-2 flex w-full",children:[Object(i.jsxs)(r.b,{className:"mr-2",onClick:function(){var e=prompt("Enter channel to read chat from",N);e&&e!==N&&Object(m.b)(e)},children:["Change channel ",Object(i.jsxs)("em",{children:["(",N,")"]})]}),Object(i.jsx)(r.b,{className:"mr-2",onClick:function(){var e=prompt("Enter clip url","");e&&j.a.findByUrl(e).then((function(t){var c;t&&(t.url=e,t.submitter=null!==(c=m.g.get())&&void 0!==c?c:void 0,Object(u.c)(t))}))},children:"+ Add cilp"}),Object(i.jsxs)(r.b,{onClick:function(){return Object(u.d)()},title:"Remove all clips from permanent memory, allow all clips to be posted and queued again",children:["\xd7 Purge memory ",Object(i.jsxs)("em",{children:["(",p.length,")"]})]})]}),Object(i.jsx)("div",{className:"mt-4",children:Object(i.jsx)(x,{clips:O})})]})}}}]);
//# sourceMappingURL=4.29a0be76.chunk.js.map