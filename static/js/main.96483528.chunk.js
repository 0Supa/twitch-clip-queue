(this["webpackJsonptwitch-clip-queue"]=this["webpackJsonptwitch-clip-queue"]||[]).push([[0],{10:function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return v})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return m})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return j})),n.d(e,"b",(function(){return O}));var r=n(1),a=n.n(r),i=n(3),u=n(17),c=n(6),o=n(13),s=n(25),l=n(33),f=n(8),d=n(4),p=Object(c.a)(!1),v=Object(c.a)(null),b=Object(c.a)(null),h=Object(c.a)(null),m=Object(f.a)("userChannel",null),g=function(t,e,n){v.set(t),b.set(e),h.set(n),m.get()||m.set(n),p.set(!0),Object(o.a)("user-logged-in"),"wolfabelle"===n.toLowerCase()&&5===(new Date).getDay()&&d.h.set((function(t){return[{title:"ITS FRIDAY THEN, ITS SATURDAY, SUNDAY! GO MUFASA!",channel:"MUFASA",id:"kfVsfOSbJY0",provider:"youtube",thumbnailUrl:"https://i.ytimg.com/vi/1TewCPi92ro/hqdefault.jpg",submitter:{displayName:"Friday",userName:""},submitters:new Array(69420),game:"Friday"}].concat(Object(u.a)(t))}))},j=function(){var t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.get(),v.set(null),b.set(null),h.set(null),p.set(!1),!e){t.next=8;break}return t.next=8,s.a.revokeToken(e);case 8:Object(o.a)("user-logged-out");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(t){l.a.leaveChannel(m.get()),m.set(t),l.a.joinChannel(t),Object(o.a)("channel-changed")}},105:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(53),u=n.n(i),c=(n(64),n(2));var o=function(t){var e=t.href;return Object(c.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",title:"Fork me on GitHub",className:"opacity-40 hover:opacity-75",children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"52",viewBox:"0 0 250 250",className:"absolute top-0 right-0",fill:"#1f2937",children:[Object(c.jsx)("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"#000"}),Object(c.jsx)("path",{d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{WebkitTransformOrigin:"130px 106px",transformOrigin:"130px 106px"}}),Object(c.jsx)("path",{d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"})]})})},s=n(6),l=n(35),f=n(5),d=n(10),p=l.a;p=l.b;var v=a.a.lazy((function(){return n.e(4).then(n.bind(null,142))})),b=a.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,141))}));var h=function(){var t=Object(s.c)(d.c).get();return Object(c.jsx)(r.Suspense,{fallback:Object(c.jsx)("div",{}),children:Object(c.jsx)(p,{basename:"/twitch-clip-queue/",children:Object(c.jsxs)(f.d,{children:[Object(c.jsx)(f.b,{path:"/queue",children:t?Object(c.jsx)(b,{}):Object(c.jsx)(f.a,{to:"/"})}),Object(c.jsx)(f.b,{exact:!0,path:"/",children:t?Object(c.jsx)(f.a,{to:"/queue"}):Object(c.jsx)(v,{})}),Object(c.jsx)(f.b,{path:"*",children:Object(c.jsx)(f.a,{to:"/"})})]})})})};var m=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o,{href:"https://github.com/JakeMiki/twitch-clip-queue"}),Object(c.jsx)(h,{})]})},g=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,139)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,u=e.getTTFB;n(t),r(t),a(t),i(t),u(t)}))};n(25).a.processAuth(),u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),g()},13:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(15),a=Object(r.a)("Umami Event"),i=window.umami,u=[];function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";a.debug("".concat(e,": ").concat(t));try{if(u.push({type:e,value:t}),i)for(var n;n=u.shift();)"view"===n.type?i.trackView("".concat("/twitch-clip-queue/").concat(n.value)):i.trackEvent(n.value,n.type)}catch(r){}}},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,a,i=n(54),u=n(55);!function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"}(r||(r={}));var c=function(t){var e;return a=null!==(e=r[t])&&void 0!==e?e:r.info},o=function(){function t(e){Object(i.a)(this,t),this.name=e}return Object(u.a)(t,[{key:"debug",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];this.log.apply(this,[r.debug,t].concat(n))}},{key:"info",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];this.log.apply(this,[r.info,t].concat(n))}},{key:"warn",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];this.log.apply(this,[r.warn,t].concat(n))}},{key:"error",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];this.log.apply(this,[r.error,t].concat(n))}},{key:"log",value:function(t,e){var n,i,u,c;if(!(t<a)){for(var o="[".concat(this.name,"] ").concat(e),s=arguments.length,l=new Array(s>2?s-2:0),f=2;f<s;f++)l[f-2]=arguments[f];switch(t){case r.debug:(n=console).debug.apply(n,[o].concat(l));break;case r.info:(i=console).info.apply(i,[o].concat(l));break;case r.warn:(u=console).warn.apply(u,[o].concat(l));break;case r.error:(c=console).error.apply(c,[o].concat(l))}}}}]),t}();function s(t){return new o(t)}c("warn"),window.__setLogLevel=c},23:function(t,e,n){"use strict";var r=n(1),a=n.n(r),i=n(34),u=n(3),c=n(16),o=n(15),s=n(27),l=n(20),f=n.n(l),d=n(10),p=f.a.create({baseURL:"https://api.twitch.tv/helix/",headers:{"Client-ID":"ryrnsuk3r4howfd6jac8lamdan279v"}}),v={getClip:function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("clips?id=".concat(e),{headers:{Authorization:"Bearer ".concat(d.a.get())}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r.data[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getVideo:function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("videos?id=".concat(e),{headers:{Authorization:"Bearer ".concat(d.a.get())}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r.data[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getGame:function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get("games?id=".concat(e),{headers:{Authorization:"Bearer ".concat(d.a.get())}});case 2:return n=t.sent,r=n.data,t.abrupt("return",r.data[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=n(8),h=Object(b.a)("gamesDictionary",{}),m=function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=h.get())[e]){t.next=3;break}return t.abrupt("return",n[e]);case 3:return t.next=5,v.getGame(e);case 5:if(!(r=t.sent)){t.next=9;break}return h.set((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(s.a)({},e,r.name))})),t.abrupt("return",r.name);case 9:return t.abrupt("return","");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=n(4),j="twitch-clip",O=Object(o.a)("".concat(j," provider")),w=function(t){var e=new URL(t);return"clips.twitch.tv"===e.hostname||!(!e.hostname.endsWith("twitch.tv")||!e.pathname.includes("/clip/"))},y=function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r,i,u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=null!==(n=x(e))&&void 0!==n?n:{},i=r.id){t.next=4;break}return t.abrupt("return");case 4:if(!(u=Object(g.k)({provider:j,id:i}))){t.next=7;break}return t.abrupt("return",Object(c.a)({},u));case 7:return t.next=9,v.getClip(i);case 9:if(!(o=t.sent)){t.next=22;break}return t.t0=i,t.t1=o.broadcaster_name,t.next=15,m(o.game_id);case 15:return t.t2=t.sent,t.t3=j,t.t4=o.thumbnail_url,t.t5=o.thumbnail_url.split("-preview-")[0]+".mp4",t.t6=o.title,t.t7=o.created_at,t.abrupt("return",{id:t.t0,channel:t.t1,game:t.t2,provider:t.t3,thumbnailUrl:t.t4,videoUrl:t.t5,title:t.t6,timestamp:t.t7});case 22:t.next=27;break;case 24:t.prev=24,t.t8=t.catch(0),O.error("tryGetClip",t.t8);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}(),x=function(t){try{var e=new URL(t);if(!w(t))return;var n=e.pathname.lastIndexOf("/");return{id:e.pathname.slice(n).split("?")[0].slice(1),provider:j}}catch(r){O.error("getInfo",r)}},k={canHandle:w,tryGetClip:y,getInfo:x},C="twitch-vod",U=Object(o.a)("".concat(C," provider")),_=function(t){var e=new URL(t);if(e.hostname.endsWith("twitch.tv")){if(e.pathname.includes("/videos/"))return!0;if(e.pathname.includes("/video/"))return!0}return!1},I=function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r,i,u,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=null!==(n=T(e))&&void 0!==n?n:{},i=r.id,u=r.startTime,i){t.next=4;break}return t.abrupt("return");case 4:if(!(o=Object(g.k)({provider:C,id:i}))){t.next=7;break}return t.abrupt("return",Object(c.a)({},o));case 7:return t.next=9,v.getVideo(i);case 9:if(!(s=t.sent)){t.next=12;break}return t.abrupt("return",{id:i,channel:s.user_name,provider:C,thumbnailUrl:s.thumbnail_url.replace("%{width}x%{height}","480x272"),title:s.title,startTime:u,timestamp:s.created_at});case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),U.error("tryGetClip",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),T=function(t){try{var e=new URL(t);if(!_(t))return;var n=e.pathname.lastIndexOf("/"),r=e.pathname.slice(n).split("?")[0].slice(1),a=e.searchParams.get("t");if(!a)return;return{id:r,provider:C,startTime:a}}catch(i){U.error("getInfo",i)}},N={canHandle:_,tryGetClip:I,getInfo:T},q={getClip:function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("https://www.youtube.com/oembed?format=json&url=https://www.youtube.com/watch?v=".concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},A="youtube",L=Object(o.a)("".concat(A," provider")),S=function(t){var e=new URL(t);return"youtu.be"===e.hostname||!!e.hostname.endsWith("youtube.com")},F=function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r,i,u,o,s,l,f,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=null!==(n=M(e))&&void 0!==n?n:{},s=o.id,l=o.startTime,s){t.next=4;break}return t.abrupt("return");case 4:if(!(f=Object(g.k)({provider:A,id:s}))){t.next=7;break}return t.abrupt("return",Object(c.a)({},f));case 7:return t.next=9,q.getClip(s);case 9:return d=t.sent,t.abrupt("return",{id:s,channel:null!==(r=null===d||void 0===d?void 0:d.author_name)&&void 0!==r?r:"YouTube",thumbnailUrl:null!==(i=null===d||void 0===d?void 0:d.thumbnail_url)&&void 0!==i?i:"https://i.ytimg.com/vi/".concat(s,"/hqdefault.jpg"),provider:"youtube",title:null!==(u=null===d||void 0===d?void 0:d.title)&&void 0!==u?u:s,startTime:l});case 13:t.prev=13,t.t0=t.catch(0),L.error("tryGetClip",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),M=function(t){try{var e,n=new URL(t);if(!S(t))return;var r=void 0;if("youtu.be"===n.hostname||n.pathname.includes("shorts")){var a=n.pathname.lastIndexOf("/")+1;r=n.pathname.slice(a).split("?")[0]}else if(n.hostname.endsWith("youtube.com")){var i;r=null!==(i=n.searchParams.get("v"))&&void 0!==i?i:void 0}if(!r)return;var u=null!==(e=n.searchParams.get("t"))&&void 0!==e?e:void 0;return{id:r,provider:A,startTime:u}}catch(c){L.error("getInfo",c)}},R=[k,N,{canHandle:S,tryGetClip:F,getInfo:M}],D={findByUrl:function(){var t=Object(u.a)(a.a.mark((function t(e){var n,r,u,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(i.a)(R),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=15;break}if((u=r.value).canHandle(e)){t.next=7;break}return t.abrupt("continue",13);case 7:return t.next=9,u.tryGetClip(e);case 9:if(!(c=t.sent)){t.next=13;break}return c.hash=Date.now().toString(),t.abrupt("return",c);case 13:t.next=3;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:return t.abrupt("return",void 0);case 24:case"end":return t.stop()}}),t,null,[[1,17,20,23]])})));return function(e){return t.apply(this,arguments)}}(),getInfoByUrl:function(t){var e,n=Object(i.a)(R);try{for(n.s();!(e=n.n()).done;){var r=e.value.getInfo(t);if(r)return r}}catch(a){n.e(a)}finally{n.f()}}};e.a=D},25:function(t,e,n){"use strict";var r=n(1),a=n.n(r),i=n(3),u=n(20),c=n.n(u),o=n(10),s="ryrnsuk3r4howfd6jac8lamdan279v",l=function(){return encodeURI("https://id.twitch.tv/oauth2/authorize?client_id=".concat(s)+"&redirect_uri=".concat("https://jakemiki.github.io/twitch-clip-queue/")+'&response_type=token id_token&scope=openid chat:read&claims={"id_token":{"preferred_username":null}}')};var f={getLoginUrl:l,redirectToLogin:function(){window.location.assign(l())},processAuth:function(){if(window.location.hash){var t,e,n=window.location.hash.substring(1).split("&").reduce((function(t,e){var n=e.split("=");return t[n[0]]=decodeURIComponent(decodeURIComponent(n[1])),t}),{});if(window.location.hash="",n.access_token&&n.id_token)n.decodedIdToken=function(t){if(!t)return;var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}(n.id_token),Object(o.d)(n.access_token,n.id_token,null!==(t=null===(e=n.decodedIdToken)||void 0===e?void 0:e.preferred_username)&&void 0!==t?t:"")}},revokeToken:function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("https://id.twitch.tv/oauth2/revoke?client_id=".concat(s,"&token=").concat(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=f},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e=t.indexOf("http");if(e>=0){var n=t.indexOf(" ",e);return t.slice(e,n>0?n:void 0)}}},33:function(t,e,n){"use strict";var r,a=n(1),i=n.n(a),u=n(3),c=n(17),o=n(56),s=n(15),l=n(32),f=n(4),d=n(10),p=n(58),v=n(23),b=n(6),h={queuenext:function(){return Object(f.l)()},queueclose:function(){return Object(f.a)(!1)},queueopen:function(){return Object(f.a)(!0)},queueclear:function(){return Object(f.f)()},queuepurgememory:function(){return Object(f.e)()},queueautoplay:function(t){return Object(f.s)(!!["1","on","true"].includes(t)||!["0","off","false"].includes(t)&&void 0)},queuesoftlimit:function(t){return null!==t&&Number.isInteger(+t)&&Object(f.p)(+t)},queueremove:function(t){if(t&&t.startsWith("http")){var e=v.a.getInfoByUrl(t);e&&Object(f.n)(e)}}},m=n(8),g=Object(s.a)("Twitch Chat"),j=function(t){f.h.filter((function(e){var n,r;return(null===(n=e.submitter.get())||void 0===n?void 0:n.userName)===t||(null===(r=e.submitters.get())||void 0===r?void 0:r.some((function(e){return e.userName===t})))})).forEach((function(e){var n,r;if((null===(n=e.submitter.get())||void 0===n?void 0:n.userName)===t)if(null===(r=e.submitters.get())||void 0===r?void 0:r.length){var a;e.submitter.set(null===(a=e.submitters.get())||void 0===a?void 0:a[0]),e.submitters.set((function(t){return null===t||void 0===t||t.shift(),t}))}else{var i=f.g.find((function(t){return Object(m.b)(t.get(),e.get())}));null===i||void 0===i||i.set(b.b),e.set(b.b)}else e.submitters.set((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e.userName!==t}))}))}))},O=function(){var t=Object(u.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=r)||void 0===e?void 0:e.disconnect();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.info("Joining channel",e),t.next=3,r.join(e.toLowerCase());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y={connect:function t(){(r=new p.Client({options:{debug:!1,skipUpdatingEmotesets:!0,skipMembership:!0},logger:{error:g.error.bind(g),info:g.info.bind(g),warn:g.warn.bind(g)},identity:{username:d.g.get(),password:"oauth:".concat(d.a.get())},connection:{reconnect:!0,secure:!0}})).on("disconnected",(function(t){return g.info("Disconnected:",t)})),r.on("message",(function(t,e,n,r){return function(t,e,n){if(e.startsWith("!")){var r;if(g.debug("Userstate",t),!t.mod&&"1"!==(null===(r=t.badges)||void 0===r?void 0:r.broadcaster))return;var a=e.substr(1).split(" "),i=Object(o.a)(a),u=i[0],s=i.slice(1),d=h[u];if(!d)return;d.apply(void 0,Object(c.a)(s))}else if(f.b.get()||n){var p=Object(l.a)(e);p&&(g.debug("[handleMessage] Found url:",p),v.a.findByUrl(p).then((function(e){e&&(e.url=p,e.submitter={userName:t.username,displayName:t["display-name"]},Object(f.c)(e))})))}}(e,n,r)})),r.on("messagedeleted",(function(t,e,n){return function(t){var e=Object(l.a)(t);e&&(g.debug("[handleMessageDeleted] Found url:",e),v.a.findByUrl(e).then((function(t){t&&Object(f.n)(t)})))}(n)})),r.on("timeout",(function(t,e){return j(e)})),r.on("ban",(function(t,e){return j(e)})),g.info("Connecting and authenticating..."),r.connect().then((function(){var t,e;g.info("Connected."),w(null!==(t=null!==(e=d.f.get())&&void 0!==e?e:d.g.get())&&void 0!==t?t:"")})).catch((function(e){g.error(e),setTimeout((function(){return t()}),5e3)}))},disconnect:O,joinChannel:w,leaveChannel:function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.info("Leaving channel",e),t.next=3,r.part(e.toLowerCase());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=y},4:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"r",(function(){return f})),n.d(e,"q",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"t",(function(){return v})),n.d(e,"c",(function(){return h})),n.d(e,"l",(function(){return m})),n.d(e,"k",(function(){return g})),n.d(e,"o",(function(){return j})),n.d(e,"n",(function(){return O})),n.d(e,"f",(function(){return w})),n.d(e,"e",(function(){return y})),n.d(e,"a",(function(){return x})),n.d(e,"m",(function(){return k})),n.d(e,"p",(function(){return C})),n.d(e,"s",(function(){return U})),n.d(e,"j",(function(){return _}));var r=n(17),a=n(6),i=n(13),u=n(8),c=Object(a.a)({}),o=Object(u.a)("clipQueue",[]),s=Object(u.a)("clipMemory",[]),l=Object(a.a)(!1),f=Object(u.a)("softClipLimit",0),d=Object(a.a)(0),p=Object(u.a)("autoplay",!1),v=Object(a.a)(!1),b=Object(a.a)(-1),h=function(t){var e,n,a,c,l=o.find((function(e){return Object(u.b)(e.get(),t)})),p=null===l||void 0===l?void 0:l.get(),v=f.get();p?(null===(e=p.submitter)||void 0===e?void 0:e.userName)===(null===(n=t.submitter)||void 0===n?void 0:n.userName)||null!==(a=null===(c=p.submitters)||void 0===c?void 0:c.find((function(e){var n;return e.userName===(null===(n=t.submitter)||void 0===n?void 0:n.userName)})))&&void 0!==a&&a||(null===l||void 0===l||l.submitters.set((function(e){return[].concat(Object(r.a)(null!==e&&void 0!==e?e:[]),[t.submitter])})),o.set((function(t){return t.sort((function(t,e){var n,r,a,i;return(null!==(n=null===(r=e.submitters)||void 0===r?void 0:r.length)&&void 0!==n?n:0)-(null!==(a=null===(i=t.submitters)||void 0===i?void 0:i.length)&&void 0!==a?a:0)}))}))):v&&d.get()>=v||g(t)||(s.set((function(e){return[].concat(Object(r.a)(null!==e&&void 0!==e?e:[]),[t])})),o.set((function(e){return[].concat(Object(r.a)(null!==e&&void 0!==e?e:[]),[t])})),d.set((function(t){return t+1})),Object(i.a)("clip-added"))},m=function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=null===(t=o[0])||void 0===t?void 0:t.get();c.set(JSON.parse(JSON.stringify(null!==n&&void 0!==n?n:{}))),o[0].set(a.b),e&&d.set((function(t){return Math.max(t-1,0)})),v.set(p.get()),I(),n&&(Object(i.a)("next-clip"),Object(i.a)("?visit-time-extender","view"))},g=function(t){var e=s.find((function(e){return Object(u.b)(e.get(),t)}));return null===e||void 0===e?void 0:e.get()},j=function(t){var e=function(t){var e=o.find((function(e){return Object(u.b)(e.get(),t)}));return null===e||void 0===e?void 0:e.get()}(t);e&&(v.set(p.get()),c.set(JSON.parse(JSON.stringify(e))),O(e))},O=function(t){var e=o.findIndex((function(e){return Object(u.b)(e.get(),t)}));o[e].set(a.b),d.set((function(t){return Math.max(t-1,0)}))},w=function(){o.set([]),c.set({}),d.set(0),Object(i.a)("clear-queue")},y=function(){var t;s.set(Object(r.a)(null!==(t=o.get())&&void 0!==t?t:[])),Object(i.a)("purge-memory")},x=function(t){l.set(t),t&&d.set(o.length),Object(i.a)("accept-clips-".concat(t))},k=function(){c.hash.set((function(){return Date.now().toString()}))},C=function(t){f.set(t),Object(i.a)("set-soft-limit")},U=function(t){var e;t=null!==(e=t)&&void 0!==e?e:!p.get(),p.set(t),t?v.set(!0):I(),Object(i.a)("toggle-autoplay-".concat(t))},_=function(){I();var t=setTimeout((function(){return m()}),1e3);b.set(t)},I=function(){var t=b.get();t&&clearTimeout(t)}},51:function(t,e){},64:function(t,e,n){},8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r=n(6),a=n(57);function i(t,e){var n=Object(r.a)(e);return n.attach(Object(a.a)(t)),n}function u(t,e){return t.id===e.id&&t.provider===e.provider}},92:function(t,e){}},[[105,1,2]]]);
//# sourceMappingURL=main.96483528.chunk.js.map