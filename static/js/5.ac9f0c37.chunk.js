(this["webpackJsonptwitch-clip-queue"]=this["webpackJsonptwitch-clip-queue"]||[]).push([[5],{112:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var r=c(15),n=c(114),l=(c(0),c(2)),s=["className","colour","children","onClick"],i=function(e,t){switch(t=(t||"")+" ",e){case"red":return t+"bg-red-500 border-red-700 hover:bg-red-400 hover:border-red-500";case"green":return t+"bg-green-500 border-green-700 hover:bg-green-400 hover:border-green-500";case"yellow":return t+"bg-yellow-500 border-yellow-700 hover:bg-yellow-400 hover:border-yellow-500"}return t+"bg-purple-500 border-purple-700 hover:bg-purple-400 hover:border-purple-500"};t.b=function(e){var t=e.className,c=e.colour,a=e.children,o=e.onClick,d=Object(n.a)(e,s),b=i(c,t);return Object(l.jsx)("button",Object(r.a)(Object(r.a)({},d),{},{className:b,onClick:o,children:a}))}},115:function(e,t,c){"use strict";c(0);var r=c(1),n=c.n(r),l=c(3),s=c(7),i=c(112),a=c(23),o=c(11),d=c(2);var b=function(){var e=Object(s.c)(o.c);return Object(d.jsxs)("header",{className:"flex mb-4 pl-16 pr-32 pt-2 pb-2 bg-gray-800",children:[Object(d.jsx)("h1",{children:"Twitch Clip Queue"}),Object(d.jsx)("div",{className:"flex-grow"}),Object(d.jsx)("div",{children:e.get()?Object(d.jsx)(i.b,{onClick:Object(l.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.e)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Logout"}):Object(d.jsx)(i.b,{onClick:function(){return a.a.redirectToLogin()},children:"Login with Twitch"})})]})};t.a=function(e){var t=e.children,c=e.fullWidth,r=void 0!==c&&c?"w-full px-16":"lg:container lg:mx-auto";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsx)("div",{className:r,children:t})]})}},132:function(e,t,c){},138:function(e,t,c){"use strict";c.r(t);var r=c(134),n=c(0),l=c(7),s=c(112),i=c(15),a=c(114),o=c(2),d=["pressed","className","colour","children","onClick"];var b=function(e){var t=e.pressed,c=e.className,r=e.colour,n=e.children,l=e.onClick,b=Object(a.a)(e,d),j=Object(s.a)(r,c);return t&&(j+=" pressed"),Object(o.jsx)("button",Object(i.a)(Object(i.a)({},b),{},{className:j,onClick:l,children:n}))},j=c(31),u=c(32),h=c(5),m=c(11);var p=function(e){var t,c,r=e.clip,n=r.thumbnailUrl,l=r.id,i=r.provider,a=r.url,d=r.title,b=r.game,j=r.submitter,u=r.submitters,m=r.channel,p=null!==(t=null===u||void 0===u?void 0:u.length)&&void 0!==t?t:0;return Object(o.jsxs)("div",{className:"clip max-w-sm rounded overflow-hidden flex flex-col ",children:[n&&Object(o.jsx)("img",{className:"w-full cursor-pointer",src:n,alt:d,onClick:function(){return Object(h.m)({id:l,provider:i})}}),Object(o.jsxs)("div",{className:"h-full w-full relative",children:[Object(o.jsxs)("div",{className:"px-2 py-1 ",children:[Object(o.jsx)("h4",{className:"font-bold text-sm mb-1 w-full overflow-hidden whitespace-nowrap overflow-ellipsis",children:Object(o.jsx)("a",{className:"text-black no-underline",href:a,target:"_blank",rel:"noreferrer",children:d})}),Object(o.jsxs)("p",{className:"text-gray-900 text-xs mb-1 font-normal",children:[Object(o.jsxs)("span",{className:"font-bold",children:[m," "]}),b&&Object(o.jsxs)("span",{children:["playing\xa0",Object(o.jsx)("span",{className:"font-bold",children:b})]})]}),Object(o.jsxs)("p",{className:"text-gray-900 text-xs font-normal",children:[j&&Object(o.jsxs)(o.Fragment,{children:["Submitted by ",Object(o.jsx)("span",{className:"font-bold",children:null!==(c=j.displayName)&&void 0!==c?c:j.userName})]}),Object(o.jsx)("span",{className:"text-xs",children:p>0&&" +"+p})]})]}),Object(o.jsxs)("div",{className:"absolute flex right-1 bottom-1 clip-buttons space-x-1",children:[Object(o.jsx)(s.b,{colour:"green",onClick:function(){return Object(h.m)({id:l,provider:i})},children:"\xbb"}),Object(o.jsx)(s.b,{colour:"red",onClick:function(){return Object(h.l)({id:l,provider:i})},children:"\xd7"})]})]})]})},O=c(133);var x=function(e){var t=e.clips,c=Object(l.c)(h.b).get(),r=function(e){var c=e.index,r=e.key;return Object(o.jsx)("div",{className:"mb-4",children:Object(o.jsx)(p,{clip:t[c]})},r)};return Object(o.jsx)("div",{className:"w-full h-full",children:Object(o.jsx)(O.a,{children:function(e){var n=e.width,l=e.height;return Object(o.jsx)(O.b,{className:"custom-scroll",height:l,rowCount:t.length,rowHeight:256,rowRenderer:r,noRowsRenderer:function(){return Object(o.jsxs)("strong",{children:["No clips in queue. ",c&&Object(o.jsx)(o.Fragment,{children:"Send some in chat!"})]})},width:n})}})})},f=c(137),g=c(140);function v(e){var t,c=e.clip;switch(c.provider){case void 0:return Object(o.jsx)(o.Fragment,{});case"twitch-clip":return Object(o.jsx)("iframe",{src:"https://clips.twitch.tv/embed?clip=".concat(c.id,"&autoplay=true&parent=").concat(window.location.hostname),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title});case"twitch-vod":return Object(o.jsx)("iframe",{src:"https://player.twitch.tv/?video=".concat(c.id,"&autoplay=true&parent=").concat(window.location.hostname,"&time=").concat(c.startTime),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title});case"youtube":return Object(o.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(c.id,"?autoplay=1&start=").concat(null!==(t=c.startTime)&&void 0!==t?t:""),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title})}return Object(o.jsxs)("span",{children:["Provider not supported: ",c.provider]})}var N=function(e){var t,c,r=e.clip,n=r.channel,l=r.title,s=r.timestamp,a=r.startTime,d=r.game,b=r.submitter,j=r.submitters,u=null!==(t=null===j||void 0===j?void 0:j.length)&&void 0!==t?t:0;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"player player-container",children:Object(o.jsx)(v,Object(i.a)({},e))}),Object(o.jsxs)("div",{className:"player-title-container",children:[Object(o.jsxs)("h2",{className:"font-bold mb-1",children:[null!==l&&void 0!==l?l:Object(o.jsx)(o.Fragment,{children:"\xa0"}),a&&Object(o.jsxs)("small",{className:"text-gray-700",children:[" (","start at"," ",Object(o.jsx)("span",{className:"cursor-pointer underline",onClick:function(){return Object(h.k)()},children:a}),")"]})]}),Object(o.jsx)("p",{className:"text-gray-500 text-sm font-normal",children:n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"font-bold",children:n}),d&&Object(o.jsxs)("span",{children:["\xa0playing\xa0",Object(o.jsx)("span",{className:"font-bold",children:d})]}),", submitted by ",Object(o.jsx)("span",{className:"font-bold",children:null!==(c=null===b||void 0===b?void 0:b.displayName)&&void 0!==c?c:null===b||void 0===b?void 0:b.userName}),u>0&&Object(o.jsxs)("span",{children:[" and ",u," other(s)"]}),s&&Object(o.jsxs)("span",{children:[", created ",Object(f.a)(Object(g.a)(s))," ago"]})]}):Object(o.jsx)(o.Fragment,{children:"\xa0"})})]})]})},w=(c(132),c(115)),y=c(30);t.default=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],i=t[1],a=Object(l.c)(h.b).get(),d=Object(l.c)(h.g).get(),p=Object(l.c)(h.f).get(),O=Object(l.c)(h.h).get(),f=Object(l.c)(m.a).get(),g=Object(l.c)(m.g).get(),v=Object(l.c)(m.f).get(),C=Object(l.c)(h.p).get(),k=Object(l.c)(h.o).get()>=C,F="Clip submissions are open. Send some clips in chat!";return h.b?C>0&&k&&(F="Clip limit reached. Keep sending queued clips to get them to the top \ud83d\udc46"):F="Clip submissions are closed.",Object(n.useEffect)((function(){return u.a.connect(),function(){u.a.disconnect()}}),[f]),Object(o.jsx)(w.a,{fullWidth:!0,children:Object(o.jsxs)("div",{className:"w-full queue-page",children:[Object(o.jsx)(N,{clip:O},O.hash),Object(o.jsxs)("div",{className:"buttons-container relative",children:[Object(o.jsxs)("div",{className:"flex w-full",children:[Object(o.jsx)(s.b,{colour:"green",className:"mr-2",onClick:function(){return Object(h.j)()},children:"Next \xbb"}),Object(o.jsx)(b,{pressed:a,className:"mr-2",onClick:function(){return Object(h.a)(!a)},children:a?Object(o.jsx)(o.Fragment,{children:"Close the floodgates! \ud83c\udf0a"}):Object(o.jsx)(o.Fragment,{children:"Open the floodgates! \ud83d\udeaa"})}),Object(o.jsxs)(s.b,{colour:"red",className:"mr-2",onClick:function(){return Object(h.e)()},children:["\xd7 Clear queue ",Object(o.jsxs)("em",{children:["(",d.length,")"]})]}),Object(o.jsx)(b,{pressed:c,colour:"red",onClick:function(){return i(!c)},children:"\u2699\ufe0f"}),Object(o.jsx)("div",{className:"ml-4 font-bold text-xl leading-loose",children:F})]}),c&&Object(o.jsxs)("div",{className:"absolute flex -top-20 pb-1 pt-7 bg-gray-900 bg-opacity-70",children:[Object(o.jsxs)(s.b,{className:"mr-2",title:"Change channel to read clips from",onClick:function(){var e=prompt("Enter channel to read chat from",v);e&&e!==v&&Object(m.b)(e)},children:["Change channel ",Object(o.jsxs)("em",{children:["(",v,")"]})]}),Object(o.jsxs)(s.b,{className:"mr-2",title:"Soft clip limit - after set value no new clips are accepted, current clips can still be voted on",onClick:function(){var e=prompt("Set a soft limit after which no new clips will be accepted (0 to disable)",C.toString());null!==e&&Number.isInteger(+e)&&Object(h.n)(+e)},children:["Soft limit ",Object(o.jsxs)("em",{children:["(",C,")"]})]}),Object(o.jsx)(s.b,{className:"mr-2",title:"Add clip from url",onClick:function(){var e=prompt("Enter clip url",""),t=Object(y.a)(null!==e&&void 0!==e?e:"");t&&j.a.findByUrl(t).then((function(e){e&&(e.hash=Date.now().toString(),e.url=t,e.submitter={userName:null!==g&&void 0!==g?g:"",displayName:null!==g&&void 0!==g?g:""},Object(h.c)(e))}))},children:"+"}),Object(o.jsx)(s.b,{className:"mr-2",title:"Reload current clip",onClick:function(){return Object(h.k)()},children:"\u267b\ufe0f"}),Object(o.jsxs)(s.b,{onClick:function(){return Object(h.d)()},title:"Remove all clips from permanent memory, allow all clips to be posted and queued again",children:["\xd7 Purge memory ",Object(o.jsxs)("em",{children:["(",p.length,")"]})]})]})]}),Object(o.jsxs)("div",{className:"nextup-container",children:[Object(o.jsxs)("div",{className:"w-full flex border-b-2 mb-2 align-text-bottom",children:[Object(o.jsx)("h2",{children:"Next up"}),Object(o.jsx)("div",{className:"flex-grow"}),Object(o.jsx)("h2",{children:d.length})]}),Object(o.jsx)(x,{clips:d})]})]})})}}}]);
//# sourceMappingURL=5.ac9f0c37.chunk.js.map