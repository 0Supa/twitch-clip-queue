(this["webpackJsonptwitch-clip-queue"]=this["webpackJsonptwitch-clip-queue"]||[]).push([[5],{107:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var r=c(15),n=c(109),l=(c(0),c(2)),s=["className","colour","children","onClick"],i=function(e,t){switch(t=(t||"")+" ",e){case"red":return t+"bg-red-500 border-red-700 hover:bg-red-400 hover:border-red-500";case"green":return t+"bg-green-500 border-green-700 hover:bg-green-400 hover:border-green-500";case"yellow":return t+"bg-yellow-500 border-yellow-700 hover:bg-yellow-400 hover:border-yellow-500"}return t+"bg-purple-500 border-purple-700 hover:bg-purple-400 hover:border-purple-500"};t.b=function(e){var t=e.className,c=e.colour,a=e.children,o=e.onClick,d=Object(n.a)(e,s),j=i(c,t);return Object(l.jsx)("button",Object(r.a)(Object(r.a)({},d),{},{className:j,onClick:o,children:a}))}},110:function(e,t,c){"use strict";c(0);var r=c(2);var n=function(){return Object(r.jsxs)("footer",{className:"text-xs mt-4 ml-16",children:["Created by"," ",Object(r.jsx)("span",{className:"font-bold",children:Object(r.jsx)("a",{href:"https://github.com/JakeMiki",target:"_blank",rel:"noreferrer",children:"JakeMiki"})})]})},l=c(1),s=c.n(l),i=c(3),a=c(6),o=c(107),d=c(22),j=c(11);var b=function(){var e=Object(a.c)(j.c);return Object(r.jsxs)("header",{className:"flex mb-4 pl-16 pr-32 pt-2 pb-2 bg-gray-800",children:[Object(r.jsx)("h1",{children:"Twitch Clip Queue"}),Object(r.jsx)("div",{className:"flex-grow"}),Object(r.jsx)("div",{children:e.get()?Object(r.jsx)(o.b,{onClick:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.e)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Logout"}):Object(r.jsx)(o.b,{onClick:function(){return d.a.redirectToLogin()},children:"Login with Twitch"})})]})};t.a=function(e){var t=e.children,c=e.fullWidth,l=void 0!==c&&c?"w-full px-16":"lg:container lg:mx-auto";return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{}),Object(r.jsx)("div",{className:l,children:t}),Object(r.jsx)(n,{})]})}},127:function(e,t,c){},133:function(e,t,c){"use strict";c.r(t);var r=c(129),n=c(0),l=c(6),s=c(107),i=c(15),a=c(109),o=c(2),d=["pressed","className","colour","children","onClick"];var j=function(e){var t=e.pressed,c=e.className,r=e.colour,n=e.children,l=e.onClick,j=Object(a.a)(e,d),b=Object(s.a)(r,c);return t&&(b+=" pressed"),Object(o.jsx)("button",Object(i.a)(Object(i.a)({},j),{},{className:b,onClick:l,children:n}))},b=c(30),u=c(29),h=c(8),m=c(11);var x=function(e){var t,c,r=e.clip,n=r.thumbnailUrl,l=r.id,i=r.provider,a=r.url,d=r.title,j=r.game,b=r.submitter,u=r.submitters,m=r.channel,x=null!==(t=null===u||void 0===u?void 0:u.length)&&void 0!==t?t:0;return Object(o.jsxs)("div",{className:"clip max-w-sm rounded overflow-hidden flex flex-col ",children:[n&&Object(o.jsx)("img",{className:"w-full cursor-pointer",src:n,alt:d,onClick:function(){return Object(h.l)({id:l,provider:i})}}),Object(o.jsxs)("div",{className:"h-full w-full relative",children:[Object(o.jsxs)("div",{className:"px-2 py-1 ",children:[Object(o.jsx)("h4",{className:"font-bold text-sm mb-1 w-full overflow-hidden whitespace-nowrap overflow-ellipsis",children:Object(o.jsx)("a",{className:"text-black no-underline",href:a,target:"_blank",rel:"noreferrer",children:d})}),Object(o.jsxs)("p",{className:"text-gray-900 text-xs mb-1 font-normal",children:[Object(o.jsxs)("span",{className:"font-bold",children:[m," "]}),j&&Object(o.jsxs)("span",{children:["playing\xa0",Object(o.jsx)("span",{className:"font-bold",children:j})]})]}),Object(o.jsxs)("p",{className:"text-gray-900 text-xs font-normal",children:[b&&Object(o.jsxs)(o.Fragment,{children:["Submitted by ",Object(o.jsx)("span",{className:"font-bold",children:null!==(c=b.displayName)&&void 0!==c?c:b.userName})]}),Object(o.jsx)("span",{className:"text-xs",children:x>0&&" +"+x})]})]}),Object(o.jsxs)("div",{className:"absolute flex right-1 bottom-1 clip-buttons space-x-1",children:[Object(o.jsx)(s.b,{colour:"green",onClick:function(){return Object(h.l)({id:l,provider:i})},children:"\xbb"}),Object(o.jsx)(s.b,{colour:"red",onClick:function(){return Object(h.k)({id:l,provider:i})},children:"\xd7"})]})]})]})},O=c(128);var p=function(e){var t=e.clips,c=Object(l.c)(h.b).get(),r=function(e){var c=e.index,r=e.key;return Object(o.jsx)("div",{className:"mb-4",children:Object(o.jsx)(x,{clip:t[c]})},r)};return Object(o.jsx)("div",{className:"w-full h-full",children:Object(o.jsx)(O.a,{children:function(e){var n=e.width,l=e.height;return Object(o.jsx)(O.b,{className:"custom-scroll",height:l,rowCount:t.length,rowHeight:256,rowRenderer:r,noRowsRenderer:function(){return Object(o.jsxs)("strong",{children:["No clips in queue. ",c&&Object(o.jsx)(o.Fragment,{children:"Send some in chat!"})]})},width:n})}})})},f=c(132),v=c(135);function g(e){var t,c=e.clip;switch(c.provider){case void 0:return Object(o.jsx)(o.Fragment,{});case"twitch-clip":return Object(o.jsx)("iframe",{src:"https://clips.twitch.tv/embed?clip=".concat(c.id,"&autoplay=true&parent=").concat(window.location.hostname),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title});case"twitch-vod":return Object(o.jsx)("iframe",{src:"https://player.twitch.tv/?video=".concat(c.id,"&autoplay=true&parent=").concat(window.location.hostname,"&time=").concat(c.startTime),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title});case"youtube":return Object(o.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(c.id,"?autoplay=1&start=").concat(null!==(t=c.startTime)&&void 0!==t?t:""),height:"100%",width:"100%",className:"player",allowFullScreen:!0,title:c.title})}return Object(o.jsxs)("span",{children:["Provider not supported: ",c.provider]})}var N=function(e){var t,c,r=e.clip,n=r.channel,l=r.title,s=r.timestamp,a=r.game,d=r.submitter,j=r.submitters,b=null!==(t=null===j||void 0===j?void 0:j.length)&&void 0!==t?t:0;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"player player-container",children:Object(o.jsx)(g,Object(i.a)({},e))}),Object(o.jsxs)("div",{className:"player-title-container",children:[Object(o.jsx)("h2",{className:"font-bold mb-1",children:null!==l&&void 0!==l?l:Object(o.jsx)(o.Fragment,{children:"\xa0"})}),Object(o.jsx)("p",{className:"text-gray-500 text-sm font-normal",children:n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"font-bold",children:n}),a&&Object(o.jsxs)("span",{children:["\xa0playing\xa0",Object(o.jsx)("span",{className:"font-bold",children:a})]}),", submitted by ",Object(o.jsx)("span",{className:"font-bold",children:null!==(c=null===d||void 0===d?void 0:d.displayName)&&void 0!==c?c:null===d||void 0===d?void 0:d.userName}),b>0&&Object(o.jsxs)("span",{children:[" and ",b," other(s)"]}),s&&Object(o.jsxs)("span",{children:[", created ",Object(f.a)(Object(v.a)(s))," ago"]})]}):Object(o.jsx)(o.Fragment,{children:"\xa0"})})]})]})},w=(c(127),c(110));t.default=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],i=t[1],a=Object(l.c)(h.b).get(),d=Object(l.c)(h.g).get(),x=Object(l.c)(h.f).get(),O=Object(l.c)(h.h).get(),f=Object(l.c)(m.a).get(),v=Object(l.c)(m.g).get(),g=Object(l.c)(m.f).get();return Object(n.useEffect)((function(){return u.a.connect(),function(){u.a.disconnect()}}),[f]),Object(o.jsx)(w.a,{fullWidth:!0,children:Object(o.jsxs)("div",{className:"w-full queue-page",children:[Object(o.jsx)(N,{clip:O}),Object(o.jsxs)("div",{className:"buttons-container relative",children:[Object(o.jsxs)("div",{className:"flex w-full",children:[Object(o.jsx)(s.b,{colour:"green",className:"mr-2",onClick:function(){return Object(h.j)()},children:"Next \xbb"}),Object(o.jsx)(j,{pressed:a,className:"mr-2",onClick:function(){return Object(h.a)(!a)},children:a?Object(o.jsx)(o.Fragment,{children:"Close the floodgates! \ud83c\udf0a"}):Object(o.jsx)(o.Fragment,{children:"Open the floodgates! \ud83d\udeaa"})}),Object(o.jsxs)(s.b,{colour:"red",className:"mr-2",onClick:function(){return Object(h.e)()},children:["\xd7 Clear queue ",Object(o.jsxs)("em",{children:["(",d.length,")"]})]}),Object(o.jsx)(j,{pressed:c,colour:"red",onClick:function(){return i(!c)},children:"\u2699\ufe0f"}),Object(o.jsx)("div",{className:"ml-4 font-bold text-xl leading-loose",children:a?"Clip submissions are open. Send some clips in chat!":"Clip submissions are closed."})]}),c&&Object(o.jsxs)("div",{className:"absolute flex w-full -top-14",children:[Object(o.jsxs)(s.b,{className:"mr-2",onClick:function(){var e=prompt("Enter channel to read chat from",g);e&&e!==g&&Object(m.b)(e)},children:["Change channel ",Object(o.jsxs)("em",{children:["(",g,")"]})]}),Object(o.jsx)(s.b,{className:"mr-2",onClick:function(){var e=prompt("Enter clip url","");e&&b.a.findByUrl(e).then((function(t){t&&(t.url=e,t.submitter={userName:null!==v&&void 0!==v?v:"",displayName:null!==v&&void 0!==v?v:""},Object(h.c)(t))}))},children:"+ Add cilp"}),Object(o.jsxs)(s.b,{onClick:function(){return Object(h.d)()},title:"Remove all clips from permanent memory, allow all clips to be posted and queued again",children:["\xd7 Purge memory ",Object(o.jsxs)("em",{children:["(",x.length,")"]})]})]})]}),Object(o.jsxs)("div",{className:"nextup-container",children:[Object(o.jsxs)("div",{className:"w-full flex border-b-2 mb-2 align-text-bottom",children:[Object(o.jsx)("h2",{children:"Next up"}),Object(o.jsx)("div",{className:"flex-grow"}),Object(o.jsx)("h2",{children:d.length})]}),Object(o.jsx)(p,{clips:d})]})]})})}}}]);
//# sourceMappingURL=5.c5d29adb.chunk.js.map